{"version":3,"sources":["./src/app/board/cell/cell.component.ts","./src/app/board/cell/cell.component.html","./src/environments/environment.ts","./src/app/board/game-over/game-over.component.ts","./src/app/board/game-over/game-over.component.html","./src/app/board/board.component.ts","./src/app/board/board.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/board/cell.model.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Cell } from '../cell.model';\n\n@Component({\n\tselector: 'app-cell[cell]',\n\ttemplateUrl: './cell.component.html',\n\tstyleUrls: ['./cell.component.scss']\n})\nexport class CellComponent implements OnInit {\n\t@Input() cell!: Cell;\n\n\tconstructor() { }\n\n\tngOnInit(): void {\n\t}\n}\n","<div\n  class=\"container\"\n  [ngClass]=\"{\n    tile: !!cell.value,\n    'tile-new': cell.shouldAppear,\n    'tile-merged': cell.wasMerged\n  }\"\n>\n  {{ cell.value || \"\" }}\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n\tselector: 'app-game-over',\n\ttemplateUrl: './game-over.component.html',\n\tstyleUrls: ['./game-over.component.scss']\n})\nexport class GameOverComponent implements OnInit {\n\n\tconstructor(\n\t\tprivate dialogRef: MatDialogRef<GameOverComponent>\n\t) { }\n\n\tngOnInit(): void {\n\t}\n\n\treset() {\n\t\tthis.dialogRef.close(GAME_OVER_ACTIONS.reset);\n\t}\n\n\thalf() {\n\t\tthis.dialogRef.close(GAME_OVER_ACTIONS.half);\n\t}\n}\n\nexport const GAME_OVER_ACTIONS = {\n\treset: 1,\n\thalf: 2\n};","<mat-dialog-content>\n  <p>game over!</p>\n</mat-dialog-content>\n\n<mat-dialog-actions>\n  <button mat-raised-button (click)=\"reset()\">Reset</button>\n  <button mat-raised-button (click)=\"half()\">Half</button>\n</mat-dialog-actions>\n","import { Component, OnInit } from '@angular/core';\nimport { Cell } from './cell.model';\nimport { HostListener } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { GameOverComponent, GAME_OVER_ACTIONS } from './game-over/game-over.component';\n\n@Component({\n\tselector: 'app-board',\n\ttemplateUrl: './board.component.html',\n\tstyleUrls: ['./board.component.scss']\n})\nexport class BoardComponent implements OnInit {\n\tisGameOver: boolean = false;\n\tcells: Cell[] = [];\n\tscore: number = 0;\n\tclearCellsCB: any = -1;\n\n\tconstructor(private dialog: MatDialog) {\n\t\tthis.reset();\n\t}\n\n\treset() {\n\t\tthis.isGameOver = false;\n\t\tthis.cells = [];\n\t\tfor (let i = 0; i < (NUM_ROWS * NUM_COLS); i++) {\n\t\t\tthis.cells.push(new Cell());\n\t\t}\n\n\t\tthis.addRandomCell();\n\t}\n\n\thalf() {\n\t\tconsole.log(\"TODO: half\");\n\t}\n\n\tngOnInit(): void {\n\t}\n\n\tdidMove() {\n\t\tif (this.addRandomCell()) {\n\t\t\tthis.score += 1;\n\t\t}\n\t}\n\n\taddRandomCell(): boolean {\n\t\tclearTimeout(this.clearCellsCB);\n\n\t\tlet empties = [];\n\t\tfor (let cell of this.cells) {\n\t\t\tif (cell.value === 0) {\n\t\t\t\tempties.push(cell);\n\t\t\t}\n\t\t\tcell.shouldAppear = false;\n\t\t}\n\n\t\tif (empties.length === 0) {\n\t\t\tthis.doGameOver();\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet randomCell = randomElement(empties);\n\t\t\trandomCell.value = randomElement(DEFAULT_VALUES);\n\t\t\trandomCell.shouldAppear = true;\n\n\t\t\tthis.clearCellsCB = setTimeout(() => {\n\t\t\t\tfor (let cell of this.cells) {\n\t\t\t\t\tcell.shouldAppear = false;\n\t\t\t\t\tcell.wasMerged = false;\n\t\t\t\t}\n\t\t\t}, 200);\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tdoGameOver() {\n\t\tif (!this.isGameOver) {\n\t\t\tthis.isGameOver = true;\n\t\t\tthis.dialog.closeAll();\n\t\t\tlet dialogRef = this.dialog.open(GameOverComponent);\n\t\t\tdialogRef.afterClosed().subscribe((value) => {\n\t\t\t\tthis.isGameOver = false;\n\t\t\t\tswitch (value) {\n\t\t\t\t\tcase GAME_OVER_ACTIONS.reset:\n\t\t\t\t\t\tthis.reset();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase GAME_OVER_ACTIONS.half:\n\t\t\t\t\t\tthis.half();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tcouldMove(): boolean {\n\t\t// TODO: make less hacky\n\t\treturn this.moveUp(false) || this.moveDown(false) || this.moveRight(false) || this.moveLeft(false);\n\t}\n\n\tmoveUp(commit: boolean = true): boolean {\n\t\treturn this.doMove(previousRow, nextRow, commit);\n\t}\n\tmoveDown(commit: boolean = true): boolean {\n\t\treturn this.doMove(nextRow, previousRow, commit);\n\t}\n\tmoveLeft(commit: boolean = true): boolean {\n\t\treturn this.doMove(previousColumn, nextColumn, commit);\n\t}\n\tmoveRight(commit: boolean = true): boolean {\n\t\treturn this.doMove(nextColumn, previousColumn, commit);\n\t}\n\n\tdoMove(\n\t\tnextCellFunction: IAdjacentCellFn,\n\t\tpreviousCellFunction: IAdjacentCellFn,\n\t\tcommit: boolean\n\t): boolean {\n\t\tlet didMove = false;\n\n\t\tif (commit) {\n\t\t\tfor (let cell of this.cells) {\n\t\t\t\tcell.wasMerged = false;\n\t\t\t}\n\t\t}\n\n\t\t// slide\n\t\tdidMove = this.doSlide(nextCellFunction, previousCellFunction, commit) || didMove;\n\t\tif (didMove && !commit) {\n\t\t\treturn didMove;\n\t\t}\n\n\t\t// merge\n\t\tlet didMerge = false;\n\t\tfor (let i = 0; i < this.cells.length; i++) {\n\t\t\tlet cell = this.cells[i];\n\t\t\tif (cell.value !== 0 && !cell.wasMerged) {\n\t\t\t\tlet previousCell = previousCellFunction(this.cells, i);\n\t\t\t\tif (previousCell && previousCell.value === cell.value) {\n\t\t\t\t\tif (commit) {\n\t\t\t\t\t\tdidMerge = true;\n\t\t\t\t\t\tdidMove = true;\n\t\t\t\t\t\tcell.wasMerged = true;\n\t\t\t\t\t\tcell.value += previousCell.value;\n\t\t\t\t\t\tpreviousCell.value = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// slide again, if necessary\n\t\tif (didMerge) {\n\t\t\tdidMove = this.doSlide(nextCellFunction, previousCellFunction, commit) || didMove;\n\t\t}\n\n\t\tif (!commit) {\n\t\t\treturn didMove;\n\t\t}\n\n\t\tif (didMove) {\n\t\t\tthis.addRandomCell();\n\t\t} else if (!this.couldMove()) {\n\t\t\tthis.doGameOver();\n\t\t} else {\n\t\t\tconsole.log(\"could move\");\n\t\t}\n\n\t\treturn didMove;\n\t}\n\n\n\tdoSlide(\n\t\tnextCellFunction: IAdjacentCellFn,\n\t\tpreviousCellFunction: IAdjacentCellFn,\n\t\tcommit: boolean\n\t): boolean {\n\t\tlet didMove = false;\n\t\twhile (true) {\n\t\t\tlet didSlide = false;\n\t\t\tfor (let i = 0; i < this.cells.length; i++) {\n\t\t\t\tlet cell = this.cells[i];\n\t\t\t\tif (cell.value !== 0) {\n\t\t\t\t\tlet nextCell = nextCellFunction(this.cells, i);\n\t\t\t\t\tif (nextCell && nextCell.value === 0) {\n\t\t\t\t\t\tif (commit) {\n\t\t\t\t\t\t\tdidSlide = true;\n\t\t\t\t\t\t\tdidMove = true;\n\t\t\t\t\t\t\tnextCell.value = cell.value;\n\t\t\t\t\t\t\tcell.value = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!didSlide) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn didMove;\n\t}\n\n\t// TODO: get this to work\n\t// @HostListener('swiperight')\n\t// public swipe(event: KeyboardEvent) {\n\t// \tconsole.log(event);\n\t// }\n\n\t@HostListener('window:keyup', ['$event'])\n\tmoveKeyboard(event: KeyboardEvent) {\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\tthis.moveUp();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowDown':\n\t\t\t\tthis.moveDown();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowLeft':\n\t\t\t\tthis.moveLeft();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowRight':\n\t\t\t\tthis.moveRight();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n}\n\nexport const NUM_ROWS = 4;\nexport const NUM_COLS = 4;\n\nconst LEFT = 37;\n\n\ninterface IAdjacentCellFn {\n\t(cells: Cell[], index: number): Cell | null\n}\n\nfunction nextColumn(cells: Cell[], index: number): Cell | null {\n\tif (((index + 1) % NUM_COLS) === 0) { // far right\n\t\treturn null;\n\t}\n\treturn getCellAt(cells, index + 1);\n}\nfunction previousColumn(cells: Cell[], index: number): Cell | null {\n\tif (index % NUM_COLS === 0) { // far left\n\t\treturn null;\n\t}\n\treturn getCellAt(cells, index - 1);\n}\n\nfunction nextRow(cells: Cell[], index: number): Cell | null {\n\treturn getCellAt(cells, index + NUM_COLS);\n}\nfunction previousRow(cells: Cell[], index: number): Cell | null {\n\treturn getCellAt(cells, index - NUM_COLS);\n}\n\nfunction getCellAt(cells: Cell[], index: number): Cell | null {\n\tlet cell = cells[index];\n\treturn cell || null;\n}\n\nfunction randomElement<T>(elements: T[]): T {\n\treturn elements[Math.floor(Math.random() * elements.length)];\n}\n\nconst DEFAULT_VALUES = [2, 4];","<button (click)=\"moveUp()\">up</button>\n\n<div class=\"center-region\">\n  <button (click)=\"moveLeft()\">{{ \"<\" }}</button>\n\n  <div class=\"cell-container\">\n    <app-cell *ngFor=\"let cell of cells\" [cell]=\"cell\"></app-cell>\n  </div>\n\n  <button (click)=\"moveRight()\">></button>\n</div>\n\n<button (click)=\"moveDown()\">down</button>\n","import { Component } from '@angular/core';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\ttitle = 'YAN2048';\n}\n","<app-board></app-board>\n\n<!-- Based on 1024 by Veewo Studio -->\n","import { Injectable, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n\nimport { AppComponent } from './app.component';\nimport { BoardComponent } from './board/board.component';\nimport { CellComponent } from './board/cell/cell.component';\n\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\n\nimport * as Hammer from 'hammerjs';\nimport { HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\nimport { GameOverComponent } from './board/game-over/game-over.component';\n\n@Injectable()\nexport class HammerConfig extends HammerGestureConfig {\n\toverrides = <any>{\n\t\t'swipe': { direction: Hammer.DIRECTION_ALL }\n\t};\n}\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tBoardComponent,\n\t\tCellComponent,\n\t\tGameOverComponent\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tMatDialogModule,\n\t\tMatButtonModule,\n\t\tBrowserAnimationsModule,\n\t],\n\tproviders: [{\n\t\tprovide: HAMMER_GESTURE_CONFIG,\n\t\tuseClass: HammerConfig\n\t}],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export class Cell {\n\tvalue: number;\n\tshouldAppear: boolean = false;\n\twasMerged: boolean = false;\n\n\tconstructor() {\n\t\tthis.value = 0;\n\t}\n}","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}